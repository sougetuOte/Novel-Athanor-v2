# L1-1-4: パーサーユニットテスト

## メタ情報

| 項目 | 値 |
|------|-----|
| ID | L1-1-4 |
| 優先度 | P0 |
| ステータス | ✅ done |
| 依存タスク | L1-1-1, L1-1-2 |
| 参照仕様 | `docs/internal/02_DEVELOPMENT_FLOW.md` Phase 2 |

## 概要

frontmatter パーサーと Markdown パーサーの包括的なユニットテストを作成する。

## 受け入れ条件

- [ ] 正常系テストが全て PASS する
- [ ] 異常系テストが全て PASS する
- [ ] カバレッジ 90% 以上
- [ ] エッジケースが網羅されている

## テストケース

### frontmatter パーサー

| ケース | 入力 | 期待結果 |
|--------|------|---------|
| 正常 | 有効な frontmatter | 辞書として抽出 |
| frontmatter なし | 本文のみ | 空辞書 |
| 空ファイル | "" | 空辞書, 空本文 |
| 不正 YAML | `---\n: invalid\n---` | ParseError |
| ネストした YAML | オブジェクト/配列 | 正しくパース |

### Markdown パーサー

| ケース | 入力 | 期待結果 |
|--------|------|---------|
| 複数見出し | H1, H2, H3 | 正しくセクション分割 |
| 見出しなし | 本文のみ | 単一セクション |
| 空行含む | 空行複数 | 正しく処理 |
| コードブロック内見出し | ```# not heading``` | 無視 |

### ファイル配置

- `tests/core/parsers/test_frontmatter.py`
- `tests/core/parsers/test_markdown.py`

## 実装メモ

- 2026-01-24: L1-1-1, L1-1-2 と同時に TDD で作成
- frontmatter: 8テスト（正常、異常、空、ネスト）
- markdown: 9テスト（セクション分割、行番号）
- 全テスト PASS

## 変更履歴

| 日付 | 変更内容 |
|------|---------|
| 2026-01-24 | 初版作成 |
