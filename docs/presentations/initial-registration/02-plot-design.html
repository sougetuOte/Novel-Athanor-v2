<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>プロット設計 - 作品初回登録ガイド</title>
  <link rel="stylesheet" href="assets/styles.css">
</head>
<body>
  <a href="index.html" class="home-link">← 目次に戻る</a>

  <div class="presentation">

    <!-- Slide 1: Title -->
    <section class="slide slide-title active" data-slide="1">
      <h1>プロット設計 (L1/L2/L3)</h1>
      <p class="subtitle">作品初回登録ガイド Part 2</p>
      <p class="tagline">物語の骨格を設計する</p>
    </section>

    <!-- Slide 2: What is L1/L2/L3 -->
    <section class="slide" data-slide="2">
      <h2>L1/L2/L3 プロットとは？</h2>
      <p>物語を3つの階層で設計します</p>

      <div class="content-grid-3">
        <div class="level-card l1">
          <div class="level-icon">🏔️</div>
          <div class="level-name">L1 - 全体</div>
          <div class="level-desc">
            作品全体のテーマ、<br>
            三幕構成、結末
          </div>
        </div>

        <div class="level-card l2">
          <div class="level-icon">📚</div>
          <div class="level-name">L2 - 章</div>
          <div class="level-desc">
            各章の目的、<br>
            章ごとの展開
          </div>
        </div>

        <div class="level-card l3">
          <div class="level-icon">📝</div>
          <div class="level-name">L3 - シーン</div>
          <div class="level-desc">
            シーン単位の構成、<br>
            具体的な展開
          </div>
        </div>
      </div>

      <div class="summary-box">
        <h3>なぜ階層分け？</h3>
        <ul>
          <li><strong>俯瞰と詳細</strong>：全体を見失わずに詳細を詰められる</li>
          <li><strong>柔軟性</strong>：L3は柔軟に変更、L1はブレない軸</li>
          <li><strong>AI連携</strong>：AIが適切な粒度で参照できる</li>
        </ul>
      </div>
    </section>

    <!-- Slide 3: L1 Plot Overview -->
    <section class="slide" data-slide="3">
      <h2>L1プロット - 全体像を決める</h2>

      <div class="content-split">
        <div>
          <div class="card card-highlight">
            <h3>L1で決めること</h3>
            <ul>
              <li><strong>ログライン</strong>：1文で作品を説明</li>
              <li><strong>テーマ</strong>：作品が伝えたいこと</li>
              <li><strong>三幕構成</strong>：発端・葛藤・解決</li>
              <li><strong>キャラクターアーク</strong>：主人公の成長</li>
              <li><strong>結末</strong>：どう終わるか</li>
            </ul>
          </div>

          <div class="card" style="margin-top: 1rem;">
            <h3>三幕構成の目安</h3>
            <table>
              <tr><th>幕</th><th>割合</th><th>内容</th></tr>
              <tr><td>第一幕</td><td>25%</td><td>発端・世界観提示</td></tr>
              <tr><td>第二幕</td><td>50%</td><td>葛藤・試練</td></tr>
              <tr><td>第三幕</td><td>25%</td><td>クライマックス・解決</td></tr>
            </table>
          </div>
        </div>

        <div>
          <h4>L1プロット例</h4>
          <div class="example-box" style="font-size: 0.85rem;">## ログライン
魔法が失われた世界で、最後の魔法使いの
弟子となった少女が、世界に魔法を取り戻す。

## テーマ
「信じる力」と「継承」

## 三幕構成

### 第一幕: 発端
- 魔法のない村で暮らす主人公
- 謎の老人との出会い
- 魔法の存在を知る

### 第二幕: 葛藤
- 修行と挫折
- 敵対勢力との遭遇
- 仲間との出会いと別れ

### 第三幕: 解決
- 真実の発覚
- 最終決戦
- 新しい世界の幕開け

## キャラクターアーク
内向的な少女 → 自信を持った魔法使い</div>
        </div>
      </div>
    </section>

    <!-- Slide 4: L1 Dialog Example -->
    <section class="slide" data-slide="4">
      <h2>L1プロット - AIとの対話例</h2>

      <div class="content-split">
        <div>
          <h4>対話の流れ</h4>
          <div class="card">
            <p><strong>あなた：</strong></p>
            <p style="background: var(--bg-card); padding: 1rem; border-radius: 0.5rem; font-size: 0.95rem;">
              ファンタジー小説を書きたい。<br>
              主人公は孤児の少女で、実は王族の血を引いている。<br>
              最終的には王になるけど、途中で自分の出自を知って苦悩する展開にしたい。
            </p>
          </div>

          <div class="card" style="margin-top: 1rem;">
            <p><strong>AI：</strong></p>
            <p style="background: var(--bg-card); padding: 1rem; border-radius: 0.5rem; font-size: 0.95rem;">
              承知しました。L1プロットを作成します。<br><br>
              いくつか確認させてください：<br>
              1. 王族の血筋はいつ明かしますか？<br>
              2. 苦悩の原因は「責任」「出自への葛藤」どちらですか？<br>
              3. 敵対勢力はいますか？
            </p>
          </div>
        </div>

        <div>
          <h4>具体化の対話</h4>
          <div class="card">
            <p><strong>あなた：</strong></p>
            <p style="background: var(--bg-card); padding: 1rem; border-radius: 0.5rem; font-size: 0.95rem;">
              1. 中盤で明かす。第二幕の終わり頃。<br>
              2. 両方。王族を滅ぼした現政権への複雑な感情。<br>
              3. 現王が敵。でも完全な悪ではなく、国を守るために王族を滅ぼした背景がある。
            </p>
          </div>

          <div class="summary-box" style="margin-top: 1rem;">
            <h4>ポイント</h4>
            <ul>
              <li>AIは質問で情報を引き出します</li>
              <li>曖昧な部分は具体化を促します</li>
              <li>矛盾があれば指摘します</li>
            </ul>
          </div>
        </div>
      </div>
    </section>

    <!-- Slide 5: L2 Plot -->
    <section class="slide" data-slide="5">
      <h2>L2プロット - 章構成を決める</h2>

      <div class="content-split">
        <div>
          <div class="card card-highlight">
            <h3>L2で決めること</h3>
            <ul>
              <li><strong>章数</strong>：全体の章数を決定</li>
              <li><strong>各章の目的</strong>：何を達成するか</li>
              <li><strong>章末の状態</strong>：キャラの変化</li>
              <li><strong>伏線配置</strong>：どの章で何を仕込むか</li>
            </ul>
          </div>

          <div class="exception-box" style="margin-top: 1rem;">
            <h4>L2は後から調整してもOK</h4>
            <p>執筆中に章構成が変わることはよくあります。L2は「現時点での計画」です。</p>
          </div>
        </div>

        <div>
          <h4>L2プロット例</h4>
          <div class="example-box" style="font-size: 0.8rem;">## 第一章: 出会い
**目的**: 主人公と師匠の出会い、魔法の存在提示
**エピソード数**: 5話
**章末状態**: 主人公が弟子入りを決意

## 第二章: 修行
**目的**: 魔法の基礎習得、世界観の掘り下げ
**エピソード数**: 8話
**章末状態**: 基礎魔法を習得、初めての実戦

## 第三章: 旅立ち
**目的**: 仲間との出会い、敵の存在示唆
**エピソード数**: 10話
**章末状態**: 旅の目的が明確化

## 第四章: 真実
**目的**: 主人公の出自判明、葛藤
**エピソード数**: 8話
**章末状態**: 自分の使命を受け入れる

## 第五章: 決戦
**目的**: 最終決戦、テーマの回収
**エピソード数**: 7話
**章末状態**: 新たな世界の始まり</div>
        </div>
      </div>
    </section>

    <!-- Slide 6: L3 Plot -->
    <section class="slide" data-slide="6">
      <h2>L3プロット - シーン構成を決める</h2>

      <div class="content-split">
        <div>
          <div class="card card-highlight">
            <h3>L3で決めること</h3>
            <ul>
              <li><strong>シーン単位の展開</strong>：何が起きるか</li>
              <li><strong>登場キャラクター</strong>：誰が出るか</li>
              <li><strong>場所</strong>：どこで起きるか</li>
              <li><strong>伏線アクション</strong>：設置/強化/回収</li>
              <li><strong>感情の流れ</strong>：読者にどう感じさせるか</li>
            </ul>
          </div>

          <div class="card" style="margin-top: 1rem;">
            <h3>シーケンスとは</h3>
            <p>複数のシーンをまとめた単位。1つのシーケンス = 1つのミニストーリー。</p>
            <p style="font-size: 0.9rem; color: var(--text-muted);">例: 「洞窟探索シーケンス」= 入口発見 → 探索 → ボス戦 → 脱出</p>
          </div>
        </div>

        <div>
          <h4>L3プロット例</h4>
          <div class="example-box" style="font-size: 0.8rem;">## シーケンス1: 日常
**目的**: 主人公の日常と孤独感の提示

### EP-001: 朝
- 場所: 孤児院
- キャラ: 主人公、院長
- 展開: 朝の風景、主人公の孤立
- 感情: 物寂しさ、諦め

### EP-002: 市場
- 場所: 村の市場
- キャラ: 主人公、村人たち
- 展開: お使い、村人との会話
- 伏線: [FS-001] 不思議な老人を遠くに見る
- 感情: 疎外感、でも少しの好奇心

### EP-003: 出会い
- 場所: 村はずれの森
- キャラ: 主人公、老人
- 展開: 老人との会話、魔法を見る
- 伏線: [FS-002] 老人のペンダント
- 感情: 驚き、興奮、希望</div>
        </div>
      </div>
    </section>

    <!-- Slide 7: L3 Initial Registration Scope -->
    <section class="slide" data-slide="7">
      <h2>初回登録でのL3の範囲</h2>

      <div class="concept-box">
        <h3>最初から全てのL3を決める必要はありません</h3>
        <p class="lead">初回登録では「最初の数話」のL3があれば十分です</p>
      </div>

      <div class="content-grid">
        <div class="card card-success">
          <h3>初回登録で決めるL3</h3>
          <ul>
            <li>第一章のシーケンス構成</li>
            <li>最初の3〜5話の詳細</li>
            <li>第一章の伏線配置</li>
          </ul>
        </div>

        <div class="card">
          <h3>後から追加するL3</h3>
          <ul>
            <li>第二章以降のシーケンス</li>
            <li>執筆が進むにつれて詳細化</li>
            <li>必要に応じて調整</li>
          </ul>
        </div>

        <div class="card card-warning">
          <h3>注意点</h3>
          <ul>
            <li>L1とL2は最初に決める</li>
            <li>L3は執筆前に1話分あればOK</li>
            <li>全体の方向性がブレないように</li>
          </ul>
        </div>
      </div>

      <div class="summary-box">
        <p><strong>推奨</strong>：初回登録ではL1 → L2（全体）→ L3（第一章）の順で進めます。<br>
        第二章以降のL3は、第一章の執筆が終わってから詳細化しましょう。</p>
      </div>
    </section>

    <!-- Slide 8: Plot vs Summary -->
    <section class="slide" data-slide="8">
      <h2>Plot（計画）と Summary（実績）</h2>

      <div class="content-split">
        <div>
          <div class="card">
            <h3>Plot = 設計図</h3>
            <p>「こう書く予定」の計画</p>
            <ul>
              <li>執筆前に作成</li>
              <li>目標・方針を示す</li>
              <li>変更されることもある</li>
            </ul>
          </div>
        </div>

        <div>
          <div class="card">
            <h3>Summary = 実績記録</h3>
            <p>「こう書いた」の記録</p>
            <ul>
              <li>執筆後に自動生成</li>
              <li>実際の内容を記録</li>
              <li>PlotとのDiff検出に使用</li>
            </ul>
          </div>
        </div>
      </div>

      <div class="summary-box">
        <h3>なぜ両方必要？</h3>
        <div class="content-grid" style="margin-top: 1rem;">
          <div>
            <p><strong>計画と実績の比較</strong></p>
            <p style="font-size: 0.95rem; color: var(--text-muted);">予定と異なる展開になった場合に検出できる</p>
          </div>
          <div>
            <p><strong>整合性チェック</strong></p>
            <p style="font-size: 0.95rem; color: var(--text-muted);">AIが「計画では〇〇だが、実際は△△」と警告</p>
          </div>
          <div>
            <p><strong>振り返り</strong></p>
            <p style="font-size: 0.95rem; color: var(--text-muted);">なぜ計画と異なったか分析できる</p>
          </div>
        </div>
      </div>
    </section>

    <!-- Slide 9: Exception Cases -->
    <section class="slide" data-slide="9">
      <h2>例外ケース：プロット設計</h2>

      <div class="content-grid">
        <div class="exception-box">
          <h4>プロットなしで書き始めたい</h4>
          <p>最低限、L1（全体テーマと結末）だけは決めてください。L2/L3は「未定」でも登録開始できます。</p>
          <p style="font-size: 0.85rem; color: var(--text-muted);">ただし、伏線管理やAI支援の精度は下がります。</p>
        </div>

        <div class="exception-box">
          <h4>連載中に大幅に方向転換したい</h4>
          <p>L1を修正すれば、L2/L3との整合性チェックが走ります。矛盾点を洗い出してから進められます。</p>
        </div>

        <div class="exception-box">
          <h4>短編を書きたい</h4>
          <p>L2を省略してL1 → L3でもOKです。章がない短編なら、L3だけでも機能します。</p>
        </div>

        <div class="exception-box">
          <h4>複数ルートがある話</h4>
          <p>L2でルート分岐を明示し、各ルートのL3を個別に作成します。</p>
          <div class="example-box" style="font-size: 0.8rem; margin-top: 0.5rem;">L2_chapters/
├── 03_分岐点.md
├── 04A_ルートA.md
└── 04B_ルートB.md</div>
        </div>
      </div>
    </section>

    <!-- Slide 10: Summary -->
    <section class="slide" data-slide="10">
      <h2>まとめ - プロット設計</h2>

      <div class="content-split">
        <div>
          <h3>このセクションで学んだこと</h3>
          <ul>
            <li>L1/L2/L3の役割と違い</li>
            <li>各レベルで決めること</li>
            <li>AIとの対話でプロットを作る方法</li>
            <li>初回登録でのL3の範囲</li>
            <li>PlotとSummaryの違い</li>
          </ul>

          <div class="card" style="margin-top: 1.5rem;">
            <h4>作成順序</h4>
            <div class="flow-horizontal" style="justify-content: flex-start;">
              <div class="flow-step l1" style="min-width: 80px; padding: 0.75rem;">L1</div>
              <span class="flow-arrow">→</span>
              <div class="gate">承認</div>
              <span class="flow-arrow">→</span>
              <div class="flow-step l2" style="min-width: 80px; padding: 0.75rem;">L2</div>
              <span class="flow-arrow">→</span>
              <div class="flow-step l3" style="min-width: 80px; padding: 0.75rem;">L3</div>
            </div>
          </div>
        </div>

        <div>
          <h3>次のセクション</h3>
          <div class="card card-success">
            <h4>→ ワールド設定</h4>
            <p>世界観、場所、魔法体系、社会構造などを登録します。</p>
            <a href="03-world-settings.html" style="color: var(--accent); font-weight: 600;">ワールド設定へ進む →</a>
          </div>

          <div class="card" style="margin-top: 1rem;">
            <h4>前のセクション</h4>
            <a href="01-overview.html" style="color: var(--text-muted);">← はじめに - 全体フロー</a>
          </div>
        </div>
      </div>
    </section>

  </div>

  <!-- Navigation -->
  <nav class="nav">
    <button class="nav-btn" id="prev-btn" aria-label="前のスライド">←</button>
    <span class="nav-counter"><span id="current-slide">1</span> / <span id="total-slides">10</span></span>
    <button class="nav-btn" id="next-btn" aria-label="次のスライド">→</button>
  </nav>

  <div class="indicators" id="indicators"></div>

  <script>
    const slides = document.querySelectorAll('.slide');
    const totalSlides = slides.length;
    let currentSlide = 1;

    const prevBtn = document.getElementById('prev-btn');
    const nextBtn = document.getElementById('next-btn');
    const currentSlideSpan = document.getElementById('current-slide');
    const totalSlidesSpan = document.getElementById('total-slides');
    const indicatorsContainer = document.getElementById('indicators');

    totalSlidesSpan.textContent = totalSlides;

    for (let i = 1; i <= totalSlides; i++) {
      const indicator = document.createElement('div');
      indicator.className = 'indicator' + (i === 1 ? ' active' : '');
      indicator.dataset.slide = i;
      indicator.addEventListener('click', () => goToSlide(i));
      indicatorsContainer.appendChild(indicator);
    }

    function updateSlide() {
      slides.forEach((slide, index) => {
        slide.classList.toggle('active', index + 1 === currentSlide);
      });
      document.querySelectorAll('.indicator').forEach((ind, index) => {
        ind.classList.toggle('active', index + 1 === currentSlide);
      });
      currentSlideSpan.textContent = currentSlide;
      prevBtn.disabled = currentSlide === 1;
      nextBtn.disabled = currentSlide === totalSlides;
    }

    function goToSlide(n) {
      currentSlide = Math.max(1, Math.min(n, totalSlides));
      updateSlide();
    }

    function nextSlide() { if (currentSlide < totalSlides) { currentSlide++; updateSlide(); } }
    function prevSlide() { if (currentSlide > 1) { currentSlide--; updateSlide(); } }

    prevBtn.addEventListener('click', prevSlide);
    nextBtn.addEventListener('click', nextSlide);

    document.addEventListener('keydown', (e) => {
      if (e.key === 'ArrowRight' || e.key === ' ') { e.preventDefault(); nextSlide(); }
      else if (e.key === 'ArrowLeft') { e.preventDefault(); prevSlide(); }
      else if (e.key === 'Home') { e.preventDefault(); goToSlide(1); }
      else if (e.key === 'End') { e.preventDefault(); goToSlide(totalSlides); }
    });

    let touchStartX = 0;
    document.addEventListener('touchstart', (e) => { touchStartX = e.changedTouches[0].screenX; });
    document.addEventListener('touchend', (e) => {
      const diff = touchStartX - e.changedTouches[0].screenX;
      if (Math.abs(diff) > 50) { diff > 0 ? nextSlide() : prevSlide(); }
    });
  </script>
</body>
</html>
