{
  "permissions": {
    "allow": [
      "mcp__heimdall__memory_status",
      "mcp__heimdall__store_memory",
      "mcp__heimdall__session_lessons",
      "mcp__heimdall__recall_memories",
      "mcp__serena__list_dir",
      "mcp__serena__list_memories",
      "mcp__serena__get_current_config",
      "mcp__plugin_serena_serena__write_memory",
      "mcp__plugin_serena_serena__activate_project",
      "mcp__plugin_serena_serena__list_memories",
      "mcp__plugin_serena_serena__read_memory",
      "mcp__plugin_serena_serena__read_file",
      "mcp__plugin_serena_serena__find_file",
      "mcp__plugin_serena_serena__search_for_pattern",
      "mcp__plugin_serena_serena__get_symbols_overview",
      "mcp__plugin_serena_serena__find_symbol",
      "WebSearch",
      "WebFetch(domain:github.com)",
      "Bash(tree:*)",
      "Bash(ls:*)",
      "Bash(dir:*)",
      "Bash(find:*)",
      "Bash(head:*)",
      "Bash(tail:*)",
      "Bash(wc:*)",
      "Bash(where:*)",
      "Bash(echo:*)",
      "Bash(git init:*)",
      "Bash(git add:*)",
      "Bash(git status:*)",
      "Bash(git log:*)",
      "Bash(git diff:*)",
      "Bash(git show:*)",
      "Bash(git branch:*)",
      "Bash(gh auth:*)",
      "Bash(where gh:*)",
      "Bash(cmd.exe /c \"where gh\")",
      "Bash(winget install:*)",
      "Bash(\"/c/Program Files/GitHub CLI/gh.exe\" auth status)",
      "Bash(\"/c/Program Files/GitHub CLI/gh.exe\" repo create Novel-Athanor-v2 --public --source=. --remote=origin --push --description \"AIとユーザーが協力して物語を創る半自動小説生成システム\")",
      "Bash(pip install:*)",
      "Bash(pip show:*)",
      "Bash(pip list:*)",
      "Bash(pip freeze:*)",
      "Bash(uv run python:*)",
      "Bash(uv run pytest:*)",
      "Bash(uv run mypy:*)",
      "Bash(uv run ruff:*)",
      "Bash(uv pip install:*)",
      "Bash(uv pip list:*)",
      "Bash(.venv/Scripts/pip.exe:*)",
      "Bash(.venv/Scripts/pytest.exe:*)",
      "Bash(python -m pytest:*)",
      "Bash(python -m mypy:*)",
      "Bash(python -m ruff:*)",
      "mcp__plugin_serena_serena__get_current_config",
      "mcp__plugin_serena_serena__replace_content",
      "mcp__plugin_serena_serena__create_text_file",
      "mcp__plugin_serena_serena__list_dir",
      "Bash(uv:*)",
      "mcp__plugin_context7_context7__resolve-library-id",
      "mcp__plugin_context7_context7__query-docs",
      "Bash(mypy:*)",
      "Bash(ruff check:*)",
      "Bash(git -C C:/work3/Novel-Athanor-v2 status)",
      "Bash(git -C C:/work3/Novel-Athanor-v2 diff --stat)",
      "Bash(git -C C:/work3/Novel-Athanor-v2 commit -m \"$\\(cat <<''EOF''\nfeat\\(l3\\): add Phase B protocols - ContextIntegrator, InstructionGenerator\n\n- Add ContextCollector and ContextIntegrator protocols for context integration\n- Add InstructionGenerator protocol for foreshadowing instruction generation\n- Include comprehensive tests for both protocols \\(16 test cases\\)\n\nPart of L3 Context Builder Layer implementation.\nTasks: L3-4-1b, L3-5-1b\n\nCo-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>\nEOF\n\\)\")",
      "Bash(git -C C:/work3/Novel-Athanor-v2 add src/core/context/scene_resolver.py tests/core/context/test_scene_resolver.py src/core/context/lazy_loader.py tests/core/context/test_lazy_loader.py src/core/context/phase_filter.py tests/core/context/test_phase_filter.py)",
      "Bash(git -C C:/work3/Novel-Athanor-v2 commit -m \"$\\(cat <<''EOF''\nfeat\\(l3\\): add Phase C implementations - SceneResolver, FileLazyLoader, PhaseFilters\n\n- Add SceneResolver with ResolvedPaths for vault path resolution\n- Add CacheEntry and FileLazyLoader with TTL-based caching\n- Add CharacterPhaseFilter and WorldSettingPhaseFilter concrete implementations\n- Add ContentType enum and LazyLoadedContent data class\n- Include comprehensive tests \\(43 new test cases, 187 total\\)\n\nPart of L3 Context Builder Layer implementation.\nTasks: L3-1-1b, L3-2-1b, L3-2-1c, L3-3-1b, L3-3-1c\n\nCo-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>\nEOF\n\\)\")",
      "Bash(git -C C:/work3/Novel-Athanor-v2 add src/core/context/filtered_context.py src/core/context/foreshadow_instruction.py src/core/context/scene_identifier.py src/core/context/visibility_context.py src/core/context/__init__.py)",
      "Bash(git -C C:/work3/Novel-Athanor-v2 commit -m \"$\\(cat <<''EOF''\nstyle\\(l3\\): apply code quality improvements - ruff/mypy fixes\n\n- Convert Optional[X] to X | None \\(PEP 604\\)\n- Fix type annotations in visibility_context.py\n- Update __init__.py exports for new modules\n- Sort imports per ruff rules\n\nCo-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>\nEOF\n\\)\")",
      "Bash(git -C C:/work3/Novel-Athanor-v2 add .claude/current-phase.md docs/tasks/l3/implementation-guide.md)",
      "Bash(git -C C:/work3/Novel-Athanor-v2 commit -m \"$\\(cat <<''EOF''\ndocs\\(l3\\): update phase status and implementation guide\n\n- Update current-phase.md to BUILDING\n- Mark Phase B and Phase C tasks as completed in implementation-guide.md\n- Add change log entries for session progress \\(187 tests passing\\)\n\nCo-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>\nEOF\n\\)\")",
      "Bash(git -C C:/work3/Novel-Athanor-v2 push origin main)",
      "Bash(git -C C:/work3/Novel-Athanor-v2 log --oneline -5)",
      "Bash(git -C C:/work3/Novel-Athanor-v2 status --short)",
      "Bash(git -C C:/work3/Novel-Athanor-v2 add .claude/settings.local.json \"docs/memo/2026-01-26-プロンプト下書き.md\" .serena/memories/session-2026-01-26-l3-building-phase-bc.md)",
      "Bash(git -C C:/work3/Novel-Athanor-v2 commit -m \"$\\(cat <<''EOF''\nchore: save session state and local settings\n\n- Update .claude/settings.local.json\n- Add session memo for 2026-01-26\n- Save Serena memory for L3 building progress\n\nCo-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>\nEOF\n\\)\")",
      "Bash(git remote add:*)"
    ]
  },
  "enableAllProjectMcpServers": true,
  "enabledMcpjsonServers": [
    "heimdall"
  ]
}
